<!-- Update your html tag to include the itemscope and itemtype attributes. -->
<html itemscope itemtype="http://schema.org/Article">

<!--
PAGE
title
tagline
author
author_twitter_username
author_facebook_publisher
keywords
tags //tags: [jekyll,blogging,facebook,metadata]
categories //categories: [jekyll,blogging,facebook,metadata]
category
featured_image // featured_image: /assets/screenshot.jpg
date
modified_date

SITE
description
author
twitter:
  username: lorepirri
  site: pirriontheroad
facebook:
  app_id: 1234
  publisher: 1234
  admins: 1234
 -->

{% if page.title %}
 {% assign page_title = page.title | escape %}
{% else %}
 {% assign page_title = site.title | escape %}
{% endif %}

{% assign page_author = page.author | default: site.author | default: nil | escape %}
{% assign page_description = page.excerpt | default: site.description | default: site.github.project_tagline | strip_html | normalize_whitespace | truncate: 152 | escape %}

{%if page.featured_image %}
  {% assign page_featured_image = site.url | append: page.featured_image %}
{%endif %}

{% assign canonical_url = page.url | replace:'index.html','' | absolute_url %}

<!-- Place this data between the <head> tags of your website -->
{%if page_author %}
  <meta name="author" content="{{ page_author }}">
{%endif %}
<meta name="description" content="{{ page_description }}" />
{%if page.tags.length > 0 %}
  <meta name="keywords" itemprop="tags" content="{{ page.tags | join: ', ' | escape }}"/>
{%endif %}
{%if page.keywords %}
  <meta name="keywords" itemprop="keywords" content="{{ page.keywords | escape  }}">
{%endif %}
{%if page.categories %}
  <meta name="keywords" itemprop="categories" content="{{ page.categories | join: ', ' | escape  }}">
{%endif %}
{%if page.category %}
  <meta name="keywords" itemprop="category" content="{{ category | escape  }}">
{%endif %}

<!-- Schema.org markup for Google+ -->
<meta itemprop="name" content="{{ page_title }}">
<meta itemprop="description" content="{{ page_description }}">
{%if page.featured_image %}
  <meta itemprop="image" content="{{ page_featured_image }}">
{%endif %}

<!-- Twitter Card data -->
<meta name="twitter:card" content="summary_large_image">
{%if site.twitter.site %}
  <meta name="twitter:site" content="@{{ site.twitter.site }}">
{%endif %}
  <meta name="twitter:title" content="{{ page_title }}">
  <meta name="twitter:description" content="{{ page_description }}">
{%if page.author_twitter_username || site.twitter.username %}
  <meta name="twitter:creator" content="@{{ page.author_twitter_username | default: site.twitter.username }}">
{%endif %}

<!-- Twitter summary card with large image must be at least 280x150px -->
{%if page.featured_image %}
  <meta name="twitter:image:src" content="{{ page_featured_image }}">
  <meta property="twitter:image" content="{{ page_featured_image }}">
{%endif %}
<meta property="twitter:url" content="{{ canonical_url }}">



<!-- Open Graph data -->
<meta property="og:title" content="{{ page_title }}" />
<meta property="og:type" content="article" />
<meta property="og:url" content="{{ canonical_url }}" />
{%if page.featured_image %}
  <meta property="og:image" content="{{ page_featured_image }}" />
{%endif %}
<meta property="og:description" content="{{ page_description }}" />
<meta property="og:site_name" content="{{ site.title }}" />
{%if page.date %}
  <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}" />
{%endif %}
{%if page.modified_date %}
  <meta property="article:modified_time" content="{{ page.modified_date | date_to_xmlschema }}" />
{%endif %}

{%if site.facebook.admins %}
  <meta property="fb:admins" content="{{ site.facebook.admins }}" />
{%endif %}

{%if site.facebook.app_id %}
  <meta property="fb:app_id" content="{{ site.facebook.app_id }}">
{%endif %}

<!-- <meta property="article:section" itemprop="articleSection" content="The Upshot">
<meta property="article:section_url" content="https://www.nytimes.com/section/upshot">
<meta property="article:top-level-section" content="upshot"> -->

{%if page.author_facebook %}
  <meta property="article:author" content="https://www.facebook.com/{{ page.author_facebook }}">
{%elsif site.facebook.publisher %}
  <meta property="article:author" content="https://www.facebook.com/{{ site.facebook.publisher }}">
{%endif %}

{%if page_author %}
  <meta property="article:author" content="{{ page_author }}">
{%endif %}

{%if page.tags %}
  {% for tag in page.tags %}
    <meta property="article:tag" content="{{ tag | escape }}">
  {% endfor %}
{%endif %}

{%if page.keywords %}
  {% assign keywordsList = page.keywords | split:', ' %}
  {% for keyword in keywordsList %}
    <meta property="article:tag" content="{{ keyword | escape }}">
  {% endfor %}
{%endif %}

{%if page.categories %}
  {% for category in page.categories %}
    <meta property="article:tag" content="{{ category | escape }}">
  {% endfor %}
{%endif %}

{%if page.category %}
  <meta property="article:tag" content="{{ category | escape }}">
{%endif %}
